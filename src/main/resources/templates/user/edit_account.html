<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Update Personal Details</title>
    <link rel="stylesheet" th:href="@{/css/home.css}" />
    <link rel="stylesheet" th:href="@{/css/user/edit-profile.css}" />
    <link
            th:rel="stylesheet"
            th:href="@{assets/password-strength-meter/password.min.css}"
    />
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
            rel="stylesheet"
    />
    <link
            href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.css"
            rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script
            type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.2.0/mdb.min.js"
    ></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</head>
<body>
<div th:replace="~{user/home_bar :: userHomepage}"></div>
<header>
    <section>
        <div
                id="intro"
                class="bg-image"
                style="
            background-image: url('https://i.pinimg.com/736x/23/cb/71/23cb7143f892c49537c8a55f5ee21988.jpg');
            height: 100vh;
          "
        >
            <div class="mask" style="background-color: rgba(0, 0, 0, 0.2); overflow-y: auto;">
                <div
                        class="container d-flex justify-content-center align-items-center h-100"
                >
                    <div class="row align-items-center" style="margin-top: 15%;">
                        <h1 style="letter-spacing: 10px; font-size: 45px; text-align: center; margin-top: -5%;"
                            class="mb-0 text-white display-1">
                            Update Personal Details
                        </h1>
                        <div class="update-form">
                            <form th:action="@{/user/edit-account}" th:object="${account_update}" method="post">
                                <input type="hidden" th:name="id" th:value="${account_update.id}"/>

                                <div class="row" style="margin-top: 3%;">
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline" style="margin-left: 10%;">
                                            <label class="form-label" for="username"
                                            >Username</label
                                            >
                                            <input
                                                    type="text"
                                                    id="username"
                                                    th:field="*{username}"
                                                    style="border: 1px solid #4f4f4f; width: 400px;;"
                                                    class="form-control form-control-lg"
                                                    readonly="readonly"
                                            />
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4">
                                        <div class="form-outline">
                                            <label class="form-label" for="email"
                                            >Email</label
                                            >
                                            <input
                                                    type="text"
                                                    id="email"
                                                    style="border: 1px solid #4f4f4f; width: 400px;"
                                                    th:field="*{email}"
                                                    class="form-control form-control-lg"
                                            />
                                            <div
                                                    class="alert alert-warning"
                                                    style="width: 400px;"
                                                    th:if="${#fields.hasErrors('email')}"
                                                    th:errors="*{email}"
                                            ></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-4 d-flex align-items-center">
                                        <div class="form-outline datepicker w-100" style="margin-left: 10%;">
                                            <label for="phone_number" class="form-label">Phone Number</label>
                                            <input
                                                    type="text"
                                                    style="border: 1px solid #4f4f4f; width: 400px;"
                                                    th:field="*{phone_number}"
                                                    class="form-control form-control-lg"
                                                    id="phone_number"
                                                    readonly="readonly"
                                            />
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-4 pb-2" id="image-container">
                                        <div class="form-outline" style="margin-left: 15%; margin-top: -3%;">
                                            <label class="form-label" for="user_image"
                                            >User Image</label
                                            >
                                            <input
                                                    type="text"
                                                    id="user_image"
                                                    style="border: 1px solid #4f4f4f; width: 400px;"
                                                    th:field="*{image_url}"
                                                    class="form-control form-control-lg"
                                            />
                                            <div
                                                    class="alert alert-warning"
                                                    style="width: 400px;"
                                                    th:if="${#fields.hasErrors('image_url')}"
                                                    th:errors="*{image_url}"
                                            ></div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-md-6 mb-4 pb-2">
                                        <label class="form-label" for="password" style="margin-left: 10%;">Password</label>
                                        <div class="input-group" id="show_hide_password" style="width: 400px; margin-left: 10%;">
                                            <input
                                                    type="password"
                                                    id="password"
                                                    style="border: 1px solid #4f4f4f; height: 45px; background-color: antiquewhite;"
                                                    th:field="*{password}"
                                                    class="form-control form-control-lg"
                                                    autocomplete="off"
                                            />
                                            <div class="input-group-append">
                                          <span class="input-group-text" style="height: 45px;"
                                          ><i class="fa fa-eye-slash" id="togglePass" aria-hidden="true"></i
                                          ></span>
                                            </div>
                                        </div>
                                        <br />

                                        <ul
                                                class="text-danger"
                                                th:each="error: ${#fields.errors('password')}"
                                                style="margin-left: 5%;"
                                                id="password-validation"
                                        >
                                            <li th:each="message : ${error.split(',')}">
                                                <p class="error-message" th:text="${message}"></p>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="col-md-6 mb-4 pb-2" style="margin-left: -5%;">
                                        <label class="form-label" for="confirm-password" style="margin-left: 10%;">Confirm password</label>
                                        <div class="input-group"  style="width: 400px; margin-left: 10%;">
                                            <input
                                                    type="password"
                                                    id="confirm-password"
                                                    style="border: 1px solid #4f4f4f; height: 45px; background-color: antiquewhite;"
                                                    th:field="*{confirm_password}"
                                                    class="form-control form-control-lg"
                                                    autocomplete="off"
                                            />
                                        </div>
                                        <div
                                                class="alert alert-warning"
                                                style="margin-left: 10%;"
                                                th:if="${#fields.hasErrors('confirm_password')}"
                                                th:errors="*{confirm_password}"
                                        ></div>
                                    </div>
                                </div>

                                <div class="d-flex justify-content-center" style="margin-left: 10%;">
                                    <button id="confirm-changes" type="submit"
                                            class="btn btn-success btn-block btn-lg gradient-custom-4 text-body">
                                        Confirm Editing
                                    </button>
                                    <a type="button" th:href="@{/user/personal-info}" id="discard-changes"
                                       class="btn btn-secondary btn-block btn-lg gradient-custom-4 text-body">
                                        Discard Changes
                                    </a>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</header>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script th:src="@{assets/password-strength-meter/password.min.js}"></script>
<script th:src="@{/js/show-hide-password.js}"></script>
</body>
</html>